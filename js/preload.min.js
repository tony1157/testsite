!function(e){function n(e,n){this.imgs="string"==typeof e?[e]:e,this.options={order:!1,minTimer:0,each:null,end:null},this.timer=Date.now(),this.init(n)}n.prototype.init=function(n){this.options=e.extend(this.options,n),this.options.order?this.ordered():this.unordered()},n.prototype.ordered=function(){function n(){var d=new Image;e(d).on("load error",function(){if(s.each&&s.each(r),r>=o-1){var e=Date.now()-i.timer;if(e<s.minTimer){var t=s.minTimer-e;setTimeout(function(){s.end&&s.end()},t)}else s.end&&s.end()}else n();r++}),d.src=t[r]}var i=this,t=this.imgs,o=t.length,r=0,s=this.options;n()},n.prototype.unordered=function(){for(var n=this,i=this.imgs,t=i.length,o=0,r=this.options,s=0;s<t;s++){var d=new Image;e(d).on("load error",function(){if(r.each&&r.each(o),o>=t-1){var e=Date.now()-n.timer;if(e<r.minTimer){var i=r.minTimer-e;setTimeout(function(){r.end&&r.end()},i)}else r.end&&r.end()}o++}),d.src=i[s]}},e.extend(e,{preload:function(e,i){new n(e,i)}})}(jQuery);